// ==UserScript==
// @name        (OB) Script Dang Ky Tin Chi auto
// @version     1.1.1
// @date        2021/07/11
// @namespace   hieubagiang.github.io
// @author      Phạm Doãn Hiếu || fb.com/phamdoanhieu || phamdoanhieu@gmail.coma
// @copyright   DHieu
// @homepage    https://fb.com/phamdoanhieu
// @supportURL  
// @icon        https://i.imgur.com/6SaS8VR.png
// @description Dang ky tinh chi nhanh
// @description:vi Dang ky tinh chi nhanh by Hieu
// @contributionURL 
// @grant       GM_getValue
// @grant       GM_setValue
// @grant       GM_openInTab
// @grant       GM_registerMenuCommand
// @include     *://qldt.actvn.edu.vn/*
// @include     */CMCSoft.IU.Web.info/*
// @require     http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js
// @run-at      document-end
// ==/UserScript==
//
// điền lớp cần đăng ký vào mảng listLopDangKy, gồm cả lớp thực hành   và lý thuyết
var listLopDangKy = ["An toàn điện toán đám mây-1-22 (A15AT05)",
    "An toàn internet & TM điện tử-1-22 (A15AT05)","Chứng thực điện tử-1-22 (A15AT05)",
    "Phòng chống và điều tra tội phạm máy tính-1-22 (A15AT05)",
    "Quản trị an toàn hệ thống-1-22 (A15AT05)",
    "Quản trị an toàn hệ thống-1-22 (A15AT05.1)"                    ];
var _0x4aebf1=_0x2cb6;(function(_0x36c6bb,_0x1b118e){var _0x556d9b=_0x2cb6,_0x4a132e=_0x36c6bb();while(!![]){try{var _0x1ceb8c=-parseInt(_0x556d9b(0xcb))/0x1+parseInt(_0x556d9b(0xbc))/0x2*(parseInt(_0x556d9b(0xc7))/0x3)+-parseInt(_0x556d9b(0xcc))/0x4+parseInt(_0x556d9b(0xd2))/0x5*(-parseInt(_0x556d9b(0xd1))/0x6)+-parseInt(_0x556d9b(0xe0))/0x7*(parseInt(_0x556d9b(0xba))/0x8)+parseInt(_0x556d9b(0xb4))/0x9+parseInt(_0x556d9b(0xb8))/0xa*(parseInt(_0x556d9b(0xd4))/0xb);if(_0x1ceb8c===_0x1b118e)break;else _0x4a132e['push'](_0x4a132e['shift']());}catch(_0x31031d){_0x4a132e['push'](_0x4a132e['shift']());}}}(_0x1293,0xcb48e));var validUser=![];console[_0x4aebf1(0xe8)](_0x4aebf1(0xb6),'font-size:30px\x20;\x20color:red;\x20font-weight:\x20bold'),document[_0x4aebf1(0xc2)](_0x4aebf1(0xc4))[_0x4aebf1(0xbd)](_0x4aebf1(0xbe),HienThiLop);var found=null;$(window)['load'](function(){var _0x4b9c07=_0x4aebf1;console[_0x4b9c07(0xe8)]('Loading\x20script...'),validUser=!![],validUser?(console['log'](_0x4b9c07(0xd8)),mainfunction()):console[_0x4b9c07(0xe8)]('Permission\x20denied');});function _0x2cb6(_0x38c740,_0x1b1da9){var _0x129321=_0x1293();return _0x2cb6=function(_0x2cb651,_0x946a7d){_0x2cb651=_0x2cb651-0xb3;var _0x373c5f=_0x129321[_0x2cb651];return _0x373c5f;},_0x2cb6(_0x38c740,_0x1b1da9);}function mainfunction(){var _0x21321d=_0x4aebf1,_0x4dd610=document[_0x21321d(0xdc)](_0x21321d(0xd5));if(_0x4dd610[_0x21321d(0xe3)]=='')console['log']('Bạn\x20chưa\x20chọn\x20môn');else{var _0x3f0d14=document[_0x21321d(0xca)](_0x21321d(0xe6));if(document[_0x21321d(0xdc)]('#lblAvailableCourseClass')['innerText'][_0x21321d(0xd6)]>0x0)console[_0x21321d(0xe8)](_0x21321d(0xb9)),NextMon(_0x4dd610);else _0x3f0d14[0x0][_0x21321d(0xc9)][0x2]['childNodes'][0x1][_0x21321d(0xd9)]==!![]?(console[_0x21321d(0xe8)](_0x21321d(0xce)),console[_0x21321d(0xe8)]('Môn\x20này\x20đã\x20đăng\x20kí'),NextMon(_0x4dd610)):(_0x3f0d14[_0x21321d(0xe2)](ChonMon),found==!![]?$(_0x21321d(0xb5))[_0x21321d(0xd7)]():(console[_0x21321d(0xe8)](_0x21321d(0xde)),NextMon(_0x4dd610)));}}function NextMon(_0x49a882){var _0x3e1257=_0x4aebf1,_0xbb994f=_0x49a882['selectedIndex'],_0x32d281=_0x49a882[_0x3e1257(0xd6)];_0xbb994f<_0x32d281-0x1&&_0x49a882[_0xbb994f+0x1]!=undefined&&_0x49a882[_0xbb994f+0x1]!=null?(console['log'](_0x3e1257(0xc6)),_0x49a882['value']=_0x49a882[_0xbb994f+0x1]['value'],HienThiLop()):(console[_0x3e1257(0xe8)](_0x3e1257(0xe5)+document[_0x3e1257(0xc2)]('drpAcademicYear')['innerText'],_0x3e1257(0xe1)),nganhHienTai=document['querySelector'](_0x3e1257(0xe9)),nganhHienTai[_0x3e1257(0xb7)]<nganhHienTai['length']-0x1&&nganhHienTai[nganhHienTai[_0x3e1257(0xb7)]+0x1]!=undefined&&(console[_0x3e1257(0xe8)](_0x3e1257(0xbf)),nganhHienTai['value']=nganhHienTai[nganhHienTai[_0x3e1257(0xb7)]+0x1][_0x3e1257(0xe3)],setTimeout(_0x3e1257(0xdf),0x0)));}function HienThiLop(){var _0x165911=_0x4aebf1;$(_0x165911(0xc8))[_0x165911(0xd7)]();}function _0x1293(){var _0x2eee09=['forEach','value',';domain=','%cĐã\x20đăng\x20ký\x20xong\x20môn\x20của\x20khóa\x20','.cssRangeItem2,.cssRangeItem1','toUTCString','log','#drpAcademicYear','setTime','pop','8276436mjgKAT','input#btnUpdate','%cScript\x20đăng\x20ký\x20tín\x20chỉ\x20by\x20HiếuPD\x20','selectedIndex','30BTrsgq','Môn\x20này\x20ko\x20đăng\x20kí\x20được','129040YWouXR','cookie','2YDPOjX','addEventListener','change','sang\x20ngành\x20tiếp\x20theo\x20...\x20','readyState','send','getElementById','innerText','drpCourse','split','sang\x20môn\x20tiếp\x20theo\x20...\x20','4685385OHhSSS','input#btnViewCourseClass','childNodes','querySelectorAll','383614KRCZvb','5022344gkCghc','responseText','Chọn\x20môn\x20bị\x20ẩn','status',';expires=','24QtygrW','1269690uXwqut','open','6055159sToKFB','#drpCourse','length','click','Script\x20Load\x20Complete!','disabled','onreadystatechange','shift','querySelector','Đã\x20chọn\x20lớp\x20','Môn\x20này\x20không\x20có\x20trong\x20list\x20cần\x20đkí','__doPostBack(\x27drpAcademicYear\x27,\x27\x27)','280OnjSpZ','font-size:20px\x20;\x20color:red;'];_0x1293=function(){return _0x2eee09;};return _0x1293();}function ChonMon(_0x3e7aed){var _0x101bb7=_0x4aebf1,_0x286385=_0x3e7aed[_0x101bb7(0xc9)][0x3],_0x20fde9=_0x286385[_0x101bb7(0xc3)];for(i=0x0;i<listLopDangKy[_0x101bb7(0xd6)];i++){if(_0x20fde9===listLopDangKy[i]){var _0x4ce564=_0x3e7aed[_0x101bb7(0xc9)][0x2]['childNodes'][0x1];SelectCourse(_0x4ce564),found=!![],console[_0x101bb7(0xe8)](_0x101bb7(0xdd)+_0x20fde9);}}}function getHTML(_0x35bd67,_0x2a2928){return new Promise(function(){var _0x241c40=_0x2cb6,_0x5d52c9=new XMLHttpRequest();_0x5d52c9[_0x241c40(0xda)]=function(){var _0x11c540=_0x241c40;if(this[_0x11c540(0xc0)]==0x4&&this[_0x11c540(0xcf)]==0xc8)return _0x2a2928(_0x5d52c9[_0x11c540(0xcd)]),resolve(_0x5d52c9[_0x11c540(0xcd)]);},_0x5d52c9[_0x241c40(0xd3)]('GET',_0x35bd67,!![]),_0x5d52c9[_0x241c40(0xc1)]();});}function getCookie(_0x5d7251){var _0x5a262f=_0x4aebf1;const _0x134eb3=';\x20'+document[_0x5a262f(0xbb)],_0x806d64=_0x134eb3['split'](';\x20'+_0x5d7251+'=');if(_0x806d64[_0x5a262f(0xd6)]===0x2)return _0x806d64[_0x5a262f(0xb3)]()[_0x5a262f(0xc5)](';')[_0x5a262f(0xdb)]();}function setCookie(_0xb12795,_0x257aaf){var _0x23c866=_0x4aebf1,_0x46574b=_0xb12795['split'](';\x20');console['log'](_0x46574b);for(var _0x2e039f=_0x46574b['length']-0x1;_0x2e039f>=0x0;_0x2e039f--){var _0x2e9a6c=_0x46574b[_0x2e039f][_0x23c866(0xc5)]('=')[0x0],_0x27ad8c=_0x46574b[_0x2e039f][_0x23c866(0xc5)]('=')[0x1],_0x2a227b=new Date();_0x2a227b[_0x23c866(0xea)](_0x2a227b['getTime']()+0x7*0x18*0x3c*0x3c*0x3e8);var _0x298fbd=_0x23c866(0xe4)+_0x257aaf+_0x23c866(0xd0)+_0x2a227b[_0x23c866(0xe7)]();document[_0x23c866(0xbb)]=_0x2e9a6c+'='+_0x27ad8c+';\x20'+_0x298fbd;}}
